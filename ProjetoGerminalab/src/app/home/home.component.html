<div class="container">
    <main class="main-content">

        <div class="meio">
            <span>Início > Laboratório de Germinares</span>
        </div>

        <div class="content">
            <h1>Gerenciamento de notas</h1>
            <form class="nome-buscar">
                <div class="search-container">
                  <span><img matPrefix src="icons/search.png" alt="search"></span>
                  <input
                    matInput
                    name="searchTerm"
                    placeholder="Buscar por nome"
                    [(ngModel)]="searchTerm"
                  >
                </div>
              
                <div class="buttons">
                  <button type="button" class="btn-pesquisa" (click)="onSearch()">
                    Pesquisar
                  </button>
                  <button type="button" class="btn-register" (click)="redirecionarCadastroAluno()">
                    <img src="icons/cadastro.png" alt="cadastro">
                    Cadastrar aluno
                  </button>
                </div>
            </form>
            <table id="tabela">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>E-mail</th>
                        <th>Ano</th>
                        <th>Série</th>
                        <th>Exatas</th>
                        <th>Linguagens</th>
                        <th>Ciências</th>
                        <th>Média</th>
                        <th>Situação</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>



                    <tr *ngFor="let aluno of paginatedData">
                        <td>{{ aluno.nomecompleto }}</td>

                        <td>{{ aluno.email }}</td>
                        <td>{{ aluno.ano }}</td>
                        <td>{{ aluno.serie }}</td>
                        <td>{{ aluno.notaExatas }}</td>
                        <td>{{ aluno.notaLinguagens }}</td>
                        <td>{{ aluno.notaCiencias}}</td>
                        <td>{{ aluno.mediaGeral }}</td>
                        <td>
                            <div class="status" [ngClass]="{
                                'aprovado': aluno.statusFinal === 'Aprovado',
                                'reprovado': aluno.statusFinal === 'Reprovado'
                                }">
                                <img [src]="aluno.statusFinal === 'Aprovado' ? 'icons/certo.png' : 'icons/erro.png'"
                                    [alt]="aluno.statusFinal === 'Aprovado' ? 'certo' : 'errado'">
                                {{ aluno.statusFinal }}
                            </div>
                        </td>
                        <td (click)="editarRemover()"><img src="icons/menu.png" alt="menu"></td>
                    </tr>
                </tbody>
            </table>
            <div class="paginacao">
                <label for="itemsPerPage">Itens por página:</label>
                <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="updatePagination()">
                    <option *ngFor="let option of itemsPerPageOptions" [value]="option">{{ option }}</option>
                </select>

                <div class="paginas" style="margin-top: 1em;">
                    <button (click)="prevPage()" [disabled]="currentPage === 1"><img src="icons/esquerda.png"
                            alt="esquerda">
                    </button>
                    <span>{{ currentPage }}</span>
                    <button (click)="nextPage()" [disabled]="currentPage * itemsPerPage >= data.length"><img
                            src="icons/direita.png" alt="direita">
                    </button>
                </div>
            </div>
        </div>
    </main>
</div>